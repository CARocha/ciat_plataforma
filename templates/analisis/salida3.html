{% extends "analisis/baseanalisis.html" %}
{%load staticfiles%}
{% load i18n %}

{% block extra_js%}  

<script>
    $(function () {
        $('#container').highcharts({
            chart: {
                type: 'bar'
            },
            title: {
                text: 'Número de impactos por Temáticas y Sector'
            },
            xAxis: {
                categories: [
                                {% for key,value in sectores.items %}
                                    {% for x,y in value.items %}
                                        '{{x}}',
                                    {% endfor %}
                                    
                                {% endfor %}
                            ]
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'Número de Proyectos'
                }
            },
            legend: {
                reversed: true
            },
            plotOptions: {
                series: {
                    stacking: 'normal'
                }
            },
            series: [

            {% for x,y in lista_sectores.items %}
                {
                name: '{{x}}',
                data: {{y}}
            },
            {% endfor %}

            


        ]
        });
    });
</script>
{% endblock extra_js%} 

{% block contenido %}
{% include "analisis/filtros.html" %}

<h3>Distribución de Proyectos/Iniciativas por Temáticas</h3>
<div>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Temáticas</th>
                <th>Número de Proyectos/Iniciativas</th>
            </tr>
        </thead>
        <tbody>
            {% for key,value in temas.items %}
            <tr>
                <td>{{key}}</td>
                <td>{{value}}</td>
                
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div> 

 <div id="container"></div>

{% endblock contenido %}