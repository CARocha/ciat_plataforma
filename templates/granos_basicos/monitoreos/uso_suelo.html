{% extends "granos_basicos/base.html" %}

{% block contenido %}
<style type="text/css">
#grafo1,#grafo2{
  border: 1px solid #eee;
}
.panel-graficos .panel-heading{
  margin-bottom:20px;
}
</style>
<div class="container-fluid">
  <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
    {% include "granos_basicos/menu_salidas_indicadores.html" %}
  </div>
  <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9">
    <div class="panel panel-default panel-graficos">
      <div class="panel-heading">
        <h3 class="panel-title">
          <ol class="breadcrumb">
            <li class="active">Monitoreos</li>
            <li class="active">Uso del Suelo</li>
          </ol>
        </h3>
      </div>
      <div class="panel-body">
        <div class="row datos">
            <div class="col-xs-4 col-sm-4 col-md-4 col-lg-offset-1 col-lg-2">
                <div class="number-data">
                    {{avg_fincas}} mz
                </div>
                <div class="title-data">
                    Promedio del tamaño total de las fincas
                </div>

            </div>
            <div class="col-xs-4 col-sm-4 col-md-4 col-lg-2">
                <div class="number-data">
                    {{avg_cultivos_anuales}} mz
                </div>
                <div class="title-data">
                    Promedio del tamaño de Cultivos anuales
                </div>

            </div>
        </div>

        <div class="row">
          <div class="col-md-12">
            <div id="grafo1" style="min-width: 510px; width: 860px; margin: 0 auto;"></div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
{% endblock %}

{% block extra_js %}
<script type="text/javascript">
$( "#monitoreo" ).addClass( "in" );

$(function () {
  $('#grafo1').highcharts({
    chart: {
      type: 'column'
    },
    title: {

      text: 'Uso de suelo'

    },
    yAxis: {
      title: {
        text: 'Valores'
      }

    },
    yAxis: {
      min: 0,
      title: {
        text: 'Porcentaje'
      }
    },
      xAxis: {
            categories: [
                'Uso de suelo',

            ],
            crosshair: true
        },
    tooltip: {
      formatter: function() {
        return ''+
        this.series.name +': '+ this.y + '%';
      }
    },
    //  legend: {
    //       layout: 'vertical',
    //       align: 'right',
    //       verticalAlign: 'middle',
    //       borderWidth: 0
    //   },
    plotOptions: {
          series: {
              borderWidth: 0,
              dataLabels: {
                  enabled: true,
                  format: '{point.y:.2f}%',
                  color: (Highcharts.theme && Highcharts.theme.dataLabelsColor) || 'black',
                  style: {
                      textShadow: '0 0 3px white'
                  }
              }
          }
      },
    series: [
    {% for k,v in areas_finca.items %}
      {name: '{{k}} ({{v.0}}mz)', data: [{% if v == None %}0{% else %}{{v.1}}{% endif %}]},
    {% endfor %}
    ]
  });
});
</script>
{% endblock %}
