{% extends "guiascacao/base.html" %}

{% load tools %}

{% block extra_js %}
<script type="text/javascript">
$(function () {
    // Create the chart
    $('#grafo1').highcharts({
        chart: {
            type: 'column'
        },
        title: {
            text: 'Distribución de frecuencia'
        },
        subtitle: {
            text: 'Rangos alturas de árboles mt'
        },
        xAxis: {
            type: 'category'
        },
        yAxis: {
            title: {
                text: 'frecuencia'
            }

        },
        legend: {
            enabled: false
        },
        plotOptions: {
            series: {
                borderWidth: 0,
                dataLabels: {
                    enabled: true,
                    format: '{point.y:.1f}'
                }
            }
        },

        tooltip: {
            headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
            pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y:.2f}</b> of total<br/>'
        },

        series: [{
            name: 'Rangos',
            colorByPoint: true,
            data: [

              {% for k, v in grafo_altura.items %}
              {
                  name: '{{k}}',
                  y: {{v}},
              },
              {% endfor %}

            ]
        }]
    });
});

$(function () {
    // Create the chart
    $('#grafo2').highcharts({
        chart: {
            type: 'column'
        },
        title: {
            text: 'Distribución de frecuencia'
        },
        subtitle: {
            text: 'Rangos diametros de árboles en cm'
        },
        xAxis: {
            type: 'category'
        },
        yAxis: {
            title: {
                text: 'frecuencia'
            }

        },
        legend: {
            enabled: false
        },
        plotOptions: {
            series: {
                borderWidth: 0,
                dataLabels: {
                    enabled: true,
                    format: '{point.y:.1f}'
                }
            }
        },

        tooltip: {
            headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
            pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y:.2f}</b> of total<br/>'
        },

        series: [{
            name: 'Rangos',
            colorByPoint: true,
            data: [

              {% for k, v in grafo_diametro.items %}
              {
                  name: '{{k}}',
                  y: {{v}},
              },
              {% endfor %}

            ]
        }]
    });
});
$(function () {
    // Create the chart
    $('#grafo3').highcharts({
        chart: {
            type: 'column'
        },
        title: {
            text: 'Distribución de frecuencia'
        },
        subtitle: {
            text: 'Rangos ancho de copa de árboles en mt'
        },
        xAxis: {
            type: 'category'
        },
        yAxis: {
            title: {
                text: 'frecuencia'
            }

        },
        legend: {
            enabled: false
        },
        plotOptions: {
            series: {
                borderWidth: 0,
                dataLabels: {
                    enabled: true,
                    format: '{point.y:.1f}'
                }
            }
        },

        tooltip: {
            headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
            pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y:.2f}</b> of total<br/>'
        },

        series: [{
            name: 'Rangos',
            colorByPoint: true,
            data: [
              {% for k, v in grafo_anchura.items %}
              {
                  name: '{{k}}',
                  y: {{v}},
              },
              {% endfor %}
            ]
        }]
    });
});
</script>
{% endblock extra_js %}

{% block contenido %}
<p class="center-block">Dimenciones de arboles de sombra</p>
<div class="row">

 <div class="col-md-6">
   <form  action='.' method='GET'>
         <label for='txt_minimo'>Tipo uso del árbol</label>
         <select id='select_rango' name='usos'>
           <option value=''>-------</option>
           <option value='1'>Leña</option>
           <option value='2'>Fruta</option>
           <option value='3'>Madera</option>
           <option value='4'>Sombra</option>
           <option value='5'>Nutrientes</option>
         </select>
         <input type="submit" value="Consultar" class="btn btn-form" name="Consulta"/>
       </form>
       {% if uso %}
        <p>
          su busqueda fue por: {% if uso == '1' %}Leña{% endif %}
                               {% if uso == '2' %}Fruta{% endif %}
                               {% if uso == '3' %}Madera{% endif %}
                               {% if uso == '4' %}Sombra{% endif %}
                               {% if uso == '5' %}Nutrientes{% endif %}
        </p>
       {% endif %}
  <h3>Alturas de los árboles en mt</h3>
  <p>
    Número de parcelas: {{numero_parcelas|floatformat:2}}
  </p>
  <p>
    PROMEDIO: {{promedio_altura|floatformat:2}}
  </p>
  <p>
    DESVIACIÓN ESTANDAR: {{desviacion_altura|floatformat:2}}
  </p>
  <p>
    MEDIANA: {{media_altura}}
  </p>
  <p>
    RANGO MINIMO: {{minimo_altura}}
  </p>
  <p>
    RANGO MAXIMO: {{maximo_altura}}
  </p>
 </div>
 <div class="col-md-6">
   <div id="grafo1"></div>
 </div>
</div>
<hr>
<div class="row">
 <div class="col-md-6">
   <h3>Diametros de árboles en cm</h3>
   <p>
     Número de parcela: {{numero_parcelas|floatformat:2}}
   </p>
   <p>
     PROMEDIO: {{promedio_diametro|floatformat:2}}
   </p>
   <p>
     DESVIACIÓN ESTANDAR: {{desviacion_diametro|floatformat:2}}
   </p>
   <p>
     MEDIANA: {{media_diametro}}
   </p>
   <p>
     MINIMO: {{minimo_diametro}}
   </p>
   <p>
     MAXIMO: {{maximo_diametro}}
   </p>
 </div>
 <div class="col-md-6">
   <div id="grafo2"></div>
 </div>
</div>
<hr>
<div class="row">
  <div class="col-md-6">
    <h3>Ancho de la copa de árboles en mt</h3>
    <p>
      Número de parcelas: {{numero_parcelas|floatformat:2}}
    </p>
    <p>
      PROMEDIO: {{promedio_anchura|floatformat:2}}
    </p>
    <p>
      DESVIACIÓN ESTANDAR: {{desviacion_anchura|floatformat:2}}
    </p>
    <p>
      MEDIANA: {{media_anchura}}
    </p>
    <p>
      MINIMO: {{minimo_anchura}}
    </p>
    <p>
      MAXIMO: {{maximo_anchura}}
    </p>
  </div>
  <div class="col-md-6">
    <div id="grafo3"></div>
  </div>
</div>
{% endblock contenido %}
